# Common Template vars
include_postgresql: true
include_tag_config: true
include_kubernetes: true
include_redis: true
include_apim: true
include_cosmos: true


tag_source: module.tag_config.tags


domain_name: "meme"
is_dev_public: true
storage_account_state_name: tfinfdevpagopa
storage_account_container_state_name: terraform-state
storage_account_state_rg_name: "terraform-state-rg"
subscription: DEV-PagoPA
external_domain: "pagopa.it"
dns_zone_internal_prefix: "internal.dev.platform"


log_analytics_ws_name: "${local.prefix}-${var.env_short}-itn-core-law"
log_analytics_ws_rg_name: "${local.prefix}-${var.env_short}-itn-core-monitor-rg"
monitor_rg_name: "${local.prefix}-${var.env_short}-itn-core-monitor-rg" #fixme serve?
monitor_action_group_slack_name: "SlackPagoPA"
monitor_action_group_email_name: "PagoPA"
monitor_action_group_opsgenie_name: "Opsgenie"


# secrets
azdo_managed_identity_rg_name: "${local.prefix}-${var.env_short}-identity-rg"
azdo_managed_identity_iac_prefix: "azdo-${var.env}-${local.prefix}-iac"

# aks
aks_name: "${local.prefix}-${var.env_short}-${var.location_short}-${var.env}-aks"
aks_rg_name: "${local.prefix}-${var.env_short}-${var.location_short}-${var.env}-aks-rg"
ingress_load_balancer_ip: "10.1.100.250"

internal_dns_zone_resource_group_name: "${local.prefix}-${var.env_short}-vnet-rg"
application_insight_name: "${local.prefix}-${var.env_short}-itn-core-appinsights"

apim_name: "${local.prefix}-${var.env_short}-apim"
apim_rg_name: "${local.prefix}-${var.env_short}-api-rg"

vnet_name: "${local.prefix}-${var.env_short}-vnet"
vnet_rg_name: "${local.prefix}-${var.env_short}-vnet-rg"

# cae
gh_runner_cae_name: "${local.prefix}-${var.env_short}-tools-cae"
gh_runner_cae_rg: "${local.prefix}-${var.env_short}-tools-rg"
gh_runner_pat_key: "gh-runner-job-pat"
gh_runner_pat_kv_name: "${local.prefix}-${var.env_short}-kv"
gh_runner_pat_kv_rg: "${local.prefix}-${var.env_short}-sec-rg"

product_name: "pagopa"
location: westeurope

private_endpoint_subnet_name: "${local.prefix}-${var.env_short}-common-private-endpoint-snet"
private_endpoint_subnet_rg_name: "${local.prefix}-${var.env_short}-vnet-rg"
private_endpoint_subnet_vnet_name: "${local.prefix}-${var.env_short}-vnet"
private_dns_zone_rg_name: "${local.prefix}-${var.env_short}-vnet-rg"

cosmosdb_account_database_type: "mongo"

location_mapping:
  italynorth: itn
  westeurope: weu
  northeurope: neu

location_string_mapping:
  italynorth: "Italy North"
  westeurope: "West Europe"
  northeurope: "North Europe"

terraform_module_v4_hash: 85e4ec77e6b7e918de10108e052aba4348695e8d #7.21.0